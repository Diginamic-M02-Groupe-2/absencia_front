<h1>
  Histogramme
</h1>

<div class="formContainer">
  <form [formGroup]="formGroup" [method]="formMethod" [action]="formAction" (ngSubmit)="onSubmit()">
    <app-form-group>
      <app-datepicker
        [formGroup]="formGroup"
        view="month"
        name="period"
        label="Période"
        placeholder="Période"
      />

      <app-select
        [formGroup]="formGroup"
        name="service"
        label="Département"
        placeholder="Choisir un département"
        [options]="services"
      />
    </app-form-group>
    <app-form-footer>  
      <button type="submit" class="button button__submit">
        Rechercher
      </button>
    </app-form-footer>
  </form>
</div>

<app-absence-request-histogram *ngIf="datasets" [month]="formGroup.get('period')?.value.getMonth()" [year]="formGroup.get('period')?.value.getFullYear()" [datasets]="datasets" />